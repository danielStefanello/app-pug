<!DOCTYPE html>
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0, shrink-to-fit=no")
    title App Pug
    link(rel="stylesheet", href="/bootstrap/dist/css/bootstrap.css")
    link(rel="stylesheet", href="/style.css")

  body
    #loader.invisible
      .spinner-border(role="status")
        span.sr-only
    .container.jumbotron
      h1.display-4 Média das notas
      p Atualmente temos <strong><span id="count">#{count}</span> comentários</strong> registrados sobre nosso serviço e a média é de <strong><span id="average">#{average}</span> estrelas!</strong>
        div#progressBar
          div#progressBarBackground .
          img(src='/bootstrap/icons/star-bar.svg')

    .container.mb-4
      form#sendComment
        .form-row
          .col-8
            input#inComment.form-control(name='comment', type='text', placeholder='Seu comentário', data-cy='input-commentary')
          .col
            select#inRate.form-control(name='rate', data-cy='input-rate')
              option 0
              option 1
              option 2
              option 3
              option 4
              option 5
          input#sender.btn.btn-primary.mb-1.ml-1(type='button', value='Enviar', data-cy='send-commentary')

    .container
      .list-group-item.d-flex.justify-content-between.align-items-center
        h6
          strong Comentário
        h6 
          strong Nota
      ul.list-group#ulComments
        each comment, i in comments
          li.list-group-item.d-flex.justify-content-between.align-items-center(data-cy='content-commentary')
            span.col-11(data-cy="comment-text")= comment.comment
            span.ml-3.mr-0.justify-content-between(data-cy="comment-rate")= comment.rate
            img.ml-1(src='/bootstrap/icons/star-fill.svg')

  script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js")
  script(src="/script.js")