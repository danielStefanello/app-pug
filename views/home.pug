<!DOCTYPE html>
html(lang="pt-br")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0, shrink-to-fit=no")
    title App Pug
    link(rel="stylesheet", href="/bootstrap/dist/css/bootstrap.css")
    link(rel="stylesheet", href="/style.css")

  body
    #loader.invisible
      .spinner-border(role="status")
        span.sr-only
    .container.mt-5.mb-3
      h4.mb-3 Avalie este produto

      form#sendComment.form-row.input-group
        input#inComment.form-control.input-group-append(name='comment', type='text', placeholder='Seu comentário', data-cy='input-commentary')

        select#inRate.form-control.input-group-append.col-1(name='rate', data-cy='input-rate')
          option 0
          option 1
          option 2
          option 3
          option 4
          option 5

        div.input-group-append
          input#sender.btn.btn-outline-danger(type='button', value='Enviar', data-cy='send-commentary')

      h4.mt-5 Confira as avaliações anteriores

      p#header <span id='count' data-cy='count'>#{count}</span> avaliações / Média <span id='average' data-cy='average'>#{average}</span>
        img(src='/assets/red-star.svg')

      ul#ulComments.list-group
        each comment, i in comments
          li.mb-2.list-group-item.d-flex.justify-content-between.align-items-center(data-cy='content-commentary')
            span.col-11(data-cy="comment-text")= comment.comment
            span.align-middle(data-cy="comment-rate")= comment.rate
              img.mb-1.ml-2(src='/assets/red-star.svg')

  script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js")
  script(src="/script.js")
